<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cypher</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <h1 data-text="Cypher">Cypher</h1>

    <div class="text-container">
    <div class="input-selection">
        <h2>Mensaje Original</h2>
        <textarea placeholder="Ingresa tu texto" id="input-text"></textarea>
    </div>
    <div class="output-selection">
        <h2>Mensaje encriptado</h2>
        <textarea placeholder="El texto encriptado y desencriptado" id="output-text" readonly></textarea>
    </div>
    </div>    
    <div>
        <label for="key">Llave de encriptado</label>
        <input type="number" id="key" min="1" max="25" value="3">
    </div>
    <button onclick="encriptado()">Encriptar</button>
    <button onclick="desencriptado()">Desencriptar</button>
    <script>
        function encriptado(){
            const inputText = document.getElementById("input-text").value;
            const key = parseInt(document.getElementById("key").value);
            let encryptedText = "";
            for (let i = 0; i < inputText.length; i++) {
                const charCode = inputText.charCodeAt(i);
                if (charCode >= 65 && charCode <= 90) {
                    encryptedText += String.fromCharCode(((charCode - 65 + key)
                %26) + 65);
                }
                else if(charCode >= 97 && charCode <= 122){
                    encryptedText += String.fromCharCode(((charCode - 97 + key)
                %26) + 97);
                }
                else{
                    encryptedText += inputText[i];
                }
                
            }
            document.getElementById("output-text").value = encryptedText;
        }

        function desencriptado(){
            const inputText = document.getElementById("input-text").value;
            const key = parseInt(document.getElementById("key").value);
            let decryptedText = "";
            for (let i = 0; i < inputText.length; i++) {
                const charCode = inputText.charCodeAt(i);
                if (charCode >= 65 && charCode <= 90) {
                    decryptedText += String.fromCharCode(((charCode - 65 - key + 26)
                %26) + 65);
                }
                else if(charCode >= 97 && charCode <= 122){
                    decryptedText += String.fromCharCode(((charCode - 97 - key + 26)
                %26) + 97);
                }
                else{
                    decryptedText += inputText[i];
                }
                
            }
            document.getElementById("output-text").value = decryptedText;
        }
    </script>
</body>
</html>